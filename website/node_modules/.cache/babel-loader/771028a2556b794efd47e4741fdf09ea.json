{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Topbar from\"../../components/topbar\";import\"./PlayPage.css\";import btn from\"../../img/ui icons/outline_first_page_white_48dp.png\";import{useHistory,useParams}from\"react-router-dom\";import{Api}from\"../../components/Api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PlayPage=function PlayPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),sessionKey=_useState2[0],setSessionKey=_useState2[1];var history=useHistory();var _useParams=useParams(),userId=_useParams.userId;useEffect(function(){getCurrentuser();document.body.setAttribute(\"data-bg\",\"play\");console.log(document.body);},[]);var getCurrentuser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Api(\"get\",\"account/play/user/\".concat(userId));case 2:response=_context.sent;console.log(\"response\",response);setSessionKey(response.data.data.sessionKey);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getCurrentuser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"wrapper\",className:\"wrapper\",children:[/*#__PURE__*/_jsx(Topbar,{imgCentered:true}),sessionKey?/*#__PURE__*/_jsx(\"iframe\",{src:\"\".concat(process.env.REACT_APP_CLIENT,\"/?userId=\").concat(userId,\"&sessionKey=\").concat(sessionKey),title:\"game\",frameborder:\"0\",scrolling:\"no\",height:\"650px\",className:\"play-page-cambus\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"play-page-btn\",onClick:function onClick(){document.body.removeAttribute(\"data-bg\");history.push(\"/myplanets\");},style:{display:\"block\",marginLeft:\"auto\"},children:[/*#__PURE__*/_jsx(\"img\",{src:btn,style:{width:\"75px\",height:\"75px\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"gray\"},children:\"My Planets\"})]})]});};export default PlayPage;","map":{"version":3,"names":["React","useState","useEffect","Topbar","btn","useHistory","useParams","Api","PlayPage","sessionKey","setSessionKey","history","userId","getCurrentuser","document","body","setAttribute","console","log","response","data","process","env","REACT_APP_CLIENT","removeAttribute","push","display","marginLeft","width","height","color"],"sources":["C:/Users/abrah/toxic/projects/supergo2/website/src/views/playPage/PlayPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Topbar from \"../../components/topbar\";\r\nimport \"./PlayPage.css\";\r\nimport btn from \"../../img/ui icons/outline_first_page_white_48dp.png\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { Api } from \"../../components/Api\";\r\n\r\nconst PlayPage = () => {\r\n\r\n  const [sessionKey, setSessionKey] = useState(\"\");\r\n  const history = useHistory();\r\n  const { userId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getCurrentuser();\r\n    document.body.setAttribute(\"data-bg\", \"play\");\r\n    console.log(document.body)\r\n  }, []);\r\n\r\n  const getCurrentuser = async () => {\r\n    const response = await Api(\"get\", `account/play/user/${userId}`);\r\n    console.log(\"response\", response);\r\n    setSessionKey(response.data.data.sessionKey);\r\n  };\r\n\r\n  return (\r\n    <div id=\"wrapper\" className={\"wrapper\"}>\r\n      <Topbar imgCentered={true} />\r\n      {sessionKey ? (\r\n        <iframe\r\n          src={`${process.env.REACT_APP_CLIENT}/?userId=${userId}&sessionKey=${sessionKey}`}\r\n          title=\"game\"\r\n          frameborder=\"0\"\r\n          scrolling=\"no\"\r\n          height=\"650px\"\r\n          className=\"play-page-cambus\"\r\n        ></iframe>\r\n      ) : null}\r\n      <div\r\n        className=\"play-page-btn\"\r\n        onClick={() => {\r\n          document.body.removeAttribute(\"data-bg\");\r\n          history.push(\"/myplanets\");\r\n        }}\r\n        style={{ display: \"block\", marginLeft: \"auto\" }}\r\n      >\r\n        <img src={btn} style={{ width: \"75px\", height: \"75px\" }} />\r\n        <br />\r\n        <span style={{ color: \"gray\" }}>My Planets</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayPage;\r\n"],"mappings":"4eAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,OAAP,KAAmB,yBAAnB,CACA,MAAO,gBAAP,CACA,MAAOC,IAAP,KAAgB,sDAAhB,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CACA,OAASC,GAAT,KAAoB,sBAApB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAErB,cAAoCP,QAAQ,CAAC,EAAD,CAA5C,wCAAOQ,UAAP,eAAmBC,aAAnB,eACA,GAAMC,QAAO,CAAGN,UAAU,EAA1B,CACA,eAAmBC,SAAS,EAA5B,CAAQM,MAAR,YAAQA,MAAR,CAEAV,SAAS,CAAC,UAAM,CACdW,cAAc,GACdC,QAAQ,CAACC,IAAT,CAAcC,YAAd,CAA2B,SAA3B,CAAsC,MAAtC,EACAC,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACC,IAArB,EACD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMF,eAAc,0FAAG,sKACEN,IAAG,CAAC,KAAD,6BAA6BK,MAA7B,EADL,QACfO,QADe,eAErBF,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBC,QAAxB,EACAT,aAAa,CAACS,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBX,UAApB,CAAb,CAHqB,sDAAH,kBAAdI,eAAc,0CAApB,CAMA,mBACE,aAAK,EAAE,CAAC,SAAR,CAAkB,SAAS,CAAE,SAA7B,wBACE,KAAC,MAAD,EAAQ,WAAW,CAAE,IAArB,EADF,CAEGJ,UAAU,cACT,eACE,GAAG,WAAKY,OAAO,CAACC,GAAR,CAAYC,gBAAjB,qBAA6CX,MAA7C,wBAAkEH,UAAlE,CADL,CAEE,KAAK,CAAC,MAFR,CAGE,WAAW,CAAC,GAHd,CAIE,SAAS,CAAC,IAJZ,CAKE,MAAM,CAAC,OALT,CAME,SAAS,CAAC,kBANZ,EADS,CASP,IAXN,cAYE,aACE,SAAS,CAAC,eADZ,CAEE,OAAO,CAAE,kBAAM,CACbK,QAAQ,CAACC,IAAT,CAAcS,eAAd,CAA8B,SAA9B,EACAb,OAAO,CAACc,IAAR,CAAa,YAAb,EACD,CALH,CAME,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAX,CAAoBC,UAAU,CAAE,MAAhC,CANT,wBAQE,YAAK,GAAG,CAAEvB,GAAV,CAAe,KAAK,CAAE,CAAEwB,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAtB,EARF,cASE,aATF,cAUE,aAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAb,wBAVF,GAZF,GADF,CA2BD,CA7CD,CA+CA,cAAetB,SAAf"},"metadata":{},"sourceType":"module"}