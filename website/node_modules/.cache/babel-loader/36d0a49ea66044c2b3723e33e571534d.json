{"ast":null,"code":"import{REGISTER_SUCCESS,REGISTER_FAIL,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT,SET_MESSAGE}from\"./types\";import AuthService from\"../services/auth.service\";export var register=function register(email,username,icon,password,hcaptchaToken,otp){return function(dispatch){return AuthService.register(email,username,icon,password,hcaptchaToken,otp).then(function(response){if(response.data.code==200){dispatch({type:REGISTER_SUCCESS});dispatch({type:SET_MESSAGE,payload:response.data.message});return Promise.resolve(response.data.message);}else{dispatch({type:REGISTER_FAIL});dispatch({type:SET_MESSAGE,payload:response.data.message});return Promise.reject(new Error(response.data.message));}},function(error){var message=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();dispatch({type:REGISTER_FAIL});dispatch({type:SET_MESSAGE,payload:message});return Promise.reject(error);});};};export var login=function login(username,password){return function(dispatch){return AuthService.login(username,password).then(function(data){dispatch({type:LOGIN_SUCCESS,payload:{user:data}});return Promise.resolve();},function(error){var message=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();dispatch({type:LOGIN_FAIL});dispatch({type:SET_MESSAGE,payload:message});return Promise.reject();});};};export var logout=function logout(){return function(dispatch){AuthService.logout();dispatch({type:LOGOUT});};};","map":{"version":3,"names":["REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","SET_MESSAGE","AuthService","register","email","username","icon","password","hcaptchaToken","otp","dispatch","then","response","data","code","type","payload","message","Promise","resolve","reject","Error","error","toString","login","user","logout"],"sources":["C:/Users/abrah/toxic/projects/supergo2/website/src/actions/auth.js"],"sourcesContent":["import {\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGOUT,\r\n  SET_MESSAGE,\r\n} from \"./types\";\r\n\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nexport const register = (email, username, icon, password, hcaptchaToken, otp) => (dispatch) => {\r\n  return AuthService.register(email, username, icon, password, hcaptchaToken, otp).then(\r\n    (response) => {\r\n      if (response.data.code == 200) {\r\n        dispatch({\r\n          type: REGISTER_SUCCESS,\r\n        });\r\n        dispatch({\r\n          type: SET_MESSAGE,\r\n          payload: response.data.message,\r\n        });\r\n        return Promise.resolve(response.data.message);\r\n      } else {\r\n        dispatch({\r\n          type: REGISTER_FAIL,\r\n        });\r\n\r\n        dispatch({\r\n          type: SET_MESSAGE,\r\n          payload: response.data.message,\r\n        });\r\n        return Promise.reject(new Error(response.data.message));\r\n      }\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: REGISTER_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n};\r\n\r\nexport const login = (username, password) => (dispatch) => {\r\n  return AuthService.login(username, password).then(\r\n    (data) => {\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: { user: data },\r\n      });\r\n\r\n      return Promise.resolve();\r\n    },\r\n    (error) => {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n\r\n      dispatch({\r\n        type: LOGIN_FAIL,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_MESSAGE,\r\n        payload: message,\r\n      });\r\n\r\n      return Promise.reject();\r\n    }\r\n  );\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n  AuthService.logout();\r\n\r\n  dispatch({\r\n    type: LOGOUT,\r\n  });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}