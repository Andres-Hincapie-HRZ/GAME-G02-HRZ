{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useEffect}from'react';import{ApiWithoutToken}from\"../components/ApiWithoutToken\";import{jsx as _jsx}from\"react/jsx-runtime\";var Context=/*#__PURE__*/React.createContext({});export function InfoContextProvider(_ref){var children=_ref.children;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),onlinePlayers=_useState2[0],setOnlinePlayers=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),patch=_useState4[0],setPatch=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),coordinates=_useState6[0],setCoordinates=_useState6[1];useEffect(function(){getLastPlanet();getCurrentPatch();getOnlinePlayeras();},[]);var getCurrentPatch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return ApiWithoutToken(\"get\",\"metrics/patch\");case 2:response=_context.sent;setPatch(response.data.data.patch);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getCurrentPatch(){return _ref2.apply(this,arguments);};}();var getLastPlanet=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return ApiWithoutToken(\"get\",\"metrics/last/planet\");case 2:response=_context2.sent;setCoordinates(response.data.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getLastPlanet(){return _ref3.apply(this,arguments);};}();var getOnlinePlayeras=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return ApiWithoutToken(\"get\",\"metrics/online\");case 2:response=_context3.sent;setOnlinePlayers(response.data.data.online);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function getOnlinePlayeras(){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Context.Provider,{value:{onlinePlayers:onlinePlayers,patch:patch,coordinates:coordinates},children:children});}export default Context;","map":{"version":3,"names":["React","useState","useEffect","ApiWithoutToken","Context","createContext","InfoContextProvider","children","onlinePlayers","setOnlinePlayers","patch","setPatch","coordinates","setCoordinates","getLastPlanet","getCurrentPatch","getOnlinePlayeras","response","data","online"],"sources":["C:/Users/abrah/toxic/projects/supergo2/website/src/context/InfoContextProvider.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from 'react'\n\n\nimport { ApiWithoutToken } from \"../components/ApiWithoutToken\";\nconst Context = React.createContext({})\n\nexport function InfoContextProvider({ children }) {\n\n    const [onlinePlayers, setOnlinePlayers] = useState(0);\n    const [patch, setPatch] = useState(0);\n    const [coordinates, setCoordinates] = useState({});\n\n    useEffect(() => {\n        getLastPlanet();\n        getCurrentPatch();\n        getOnlinePlayeras();\n    }, []);\n\n    const getCurrentPatch = async () => {\n        const response = await ApiWithoutToken(\"get\", \"metrics/patch\");\n        setPatch(response.data.data.patch);\n    };\n    const getLastPlanet = async () => {\n        const response = await ApiWithoutToken(\"get\", \"metrics/last/planet\");\n        setCoordinates(response.data.data);\n    };\n    const getOnlinePlayeras = async () => {\n        const response = await ApiWithoutToken(\"get\", \"metrics/online\");\n        setOnlinePlayers(response.data.data.online);\n    };\n\n    return <Context.Provider value={{\n        onlinePlayers,\n        patch,\n        coordinates\n    }}>\n        {children}\n    </Context.Provider>\n}\n\nexport default Context"],"mappings":"4eAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,OAA1B,CAGA,OAASC,eAAT,KAAgC,+BAAhC,C,2CACA,GAAMC,QAAO,cAAGJ,KAAK,CAACK,aAAN,CAAoB,EAApB,CAAhB,CAEA,MAAO,SAASC,oBAAT,MAA2C,IAAZC,SAAY,MAAZA,QAAY,CAE9C,cAA0CN,QAAQ,CAAC,CAAD,CAAlD,wCAAOO,aAAP,eAAsBC,gBAAtB,eACA,eAA0BR,QAAQ,CAAC,CAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAAsCV,QAAQ,CAAC,EAAD,CAA9C,yCAAOW,WAAP,eAAoBC,cAApB,eAEAX,SAAS,CAAC,UAAM,CACZY,aAAa,GACbC,eAAe,GACfC,iBAAiB,GACpB,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMD,gBAAe,2FAAG,sKACGZ,gBAAe,CAAC,KAAD,CAAQ,eAAR,CADlB,QACdc,QADc,eAEpBN,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBR,KAApB,CAAR,CAFoB,sDAAH,kBAAfK,gBAAe,2CAArB,CAIA,GAAMD,cAAa,2FAAG,4KACKX,gBAAe,CAAC,KAAD,CAAQ,qBAAR,CADpB,QACZc,QADY,gBAElBJ,cAAc,CAACI,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAd,CAFkB,wDAAH,kBAAbJ,cAAa,2CAAnB,CAIA,GAAME,kBAAiB,2FAAG,4KACCb,gBAAe,CAAC,KAAD,CAAQ,gBAAR,CADhB,QAChBc,QADgB,gBAEtBR,gBAAgB,CAACQ,QAAQ,CAACC,IAAT,CAAcA,IAAd,CAAmBC,MAApB,CAAhB,CAFsB,wDAAH,kBAAjBH,kBAAiB,2CAAvB,CAKA,mBAAO,KAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,CAC5BR,aAAa,CAAbA,aAD4B,CAE5BE,KAAK,CAALA,KAF4B,CAG5BE,WAAW,CAAXA,WAH4B,CAAzB,UAKFL,QALE,EAAP,CAOH,CAED,cAAeH,QAAf"},"metadata":{},"sourceType":"module"}