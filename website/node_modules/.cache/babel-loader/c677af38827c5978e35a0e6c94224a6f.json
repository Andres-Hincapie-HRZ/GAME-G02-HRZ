{"ast":null,"code":"import axios from \"axios\";\nimport { logout } from \"../actions/auth\";\nimport store from '../store';\nexport const Api = async (method, route, data) => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  const promise = axios({\n    method: method,\n    url: `${process.env.REACT_APP_API}/${route}`,\n    headers: {\n      Authorization: `${user.data.token}`,\n      \"content-type\": \"application/json\"\n    },\n    data\n  });\n  const response = await promise.then(resp => {\n    const {\n      status,\n      data\n    } = resp;\n    if (status === 401 || data.code === 401) store.dispatch(logout());\n    return resp;\n  }).catch(err => {\n    return err.response;\n  });\n  return response;\n};\n_c = Api;\n\nvar _c;\n\n$RefreshReg$(_c, \"Api\");","map":{"version":3,"names":["axios","logout","store","Api","method","route","data","user","JSON","parse","localStorage","getItem","promise","url","process","env","REACT_APP_API","headers","Authorization","token","response","then","resp","status","code","dispatch","catch","err"],"sources":["c:/SERVIDOR.HRZ/TRABAJO/Trabajos Personales/Juego_Galaxy/website/src/components/Api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { logout } from \"../actions/auth\";\r\nimport store from '../store';\r\n\r\nexport const Api = async (method, route, data) => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const promise = axios({\r\n    method: method,\r\n    url: `${process.env.REACT_APP_API}/${route}`,\r\n    headers: {\r\n      Authorization: `${user.data.token}`,\r\n      \"content-type\": \"application/json\",\r\n    },\r\n    data,\r\n  });\r\n  const response = await promise\r\n    .then((resp) => {\r\n      const { status, data } = resp;\r\n\r\n      if (status === 401 || data.code === 401)\r\n        store.dispatch(logout());\r\n\r\n      return resp;\r\n    })\r\n    .catch((err) => {\r\n      return err.response;\r\n    });\r\n\r\n  return response;\r\n};"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAO,MAAMC,GAAG,GAAG,OAAOC,MAAP,EAAeC,KAAf,EAAsBC,IAAtB,KAA+B;EAChD,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;EACA,MAAMC,OAAO,GAAGZ,KAAK,CAAC;IACpBI,MAAM,EAAEA,MADY;IAEpBS,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,aAAc,IAAGX,KAAM,EAFvB;IAGpBY,OAAO,EAAE;MACPC,aAAa,EAAG,GAAEX,IAAI,CAACD,IAAL,CAAUa,KAAM,EAD3B;MAEP,gBAAgB;IAFT,CAHW;IAOpBb;EAPoB,CAAD,CAArB;EASA,MAAMc,QAAQ,GAAG,MAAMR,OAAO,CAC3BS,IADoB,CACdC,IAAD,IAAU;IACd,MAAM;MAAEC,MAAF;MAAUjB;IAAV,IAAmBgB,IAAzB;IAEA,IAAIC,MAAM,KAAK,GAAX,IAAkBjB,IAAI,CAACkB,IAAL,KAAc,GAApC,EACEtB,KAAK,CAACuB,QAAN,CAAexB,MAAM,EAArB;IAEF,OAAOqB,IAAP;EACD,CARoB,EASpBI,KAToB,CASbC,GAAD,IAAS;IACd,OAAOA,GAAG,CAACP,QAAX;EACD,CAXoB,CAAvB;EAaA,OAAOA,QAAP;AACD,CAzBM;KAAMjB,G"},"metadata":{},"sourceType":"module"}