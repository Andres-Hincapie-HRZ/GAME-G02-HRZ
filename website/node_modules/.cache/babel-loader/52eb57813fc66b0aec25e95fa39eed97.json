{"ast":null,"code":"import _slicedToArray from\"C:/Users/abrah/toxic/projects/supergo2/website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,Redirect}from\"react-router-dom\";import Form from\"react-validation/build/form\";import Input from\"react-validation/build/input\";import CheckButton from\"react-validation/build/button\";// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\nimport Swal from\"sweetalert2\";import{login}from\"../actions/auth\";import\"./form.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var form=useRef();var checkBtn=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useSelector=useSelector(function(state){return state.auth;}),isLoggedIn=_useSelector.isLoggedIn;var _useSelector2=useSelector(function(state){return state.message;}),message=_useSelector2.message;var dispatch=useDispatch();var onChangeUsername=function onChangeUsername(e){var username=e.target.value;setUsername(username);};var onChangePassword=function onChangePassword(e){var password=e.target.value;setPassword(password);};var handleLogin=function handleLogin(e){e.preventDefault();setLoading(true);if(username===\"\"){setLoading(false);return Swal.fire({title:\"Error!\",text:\"Username Required\",icon:\"error\",confirmButtonText:\"Ok\"});}else if(password==\"\"){setLoading(false);return Swal.fire({title:\"Error!\",text:\"Password Required\",icon:\"error\",confirmButtonText:\"Ok\"});}if(checkBtn.current.context._errors.length===0){dispatch(login(username,password)).then(function(){// props.history.push(\"/profile\");\nSwal.fire({title:\"Success!\",text:\"User logged in.\",icon:\"success\",confirmButtonText:\"Ok\"});setTimeout(function(){window.location.reload();},2000);}).catch(function(error){setLoading(false);return Swal.fire({title:\"Error!\",text:\"Invalid Credentials\",icon:\"error\",confirmButtonText:\"Ok\"});});}else{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,ref:form,className:\"test\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left inputfield\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"label\",children:\"Username / E-Mail\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",className:\"input login-input\",name:\"username\",value:username,onChange:onChangeUsername})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left  inputfield\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"label\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",className:\"input login-input\",name:\"password\",value:password,onChange:onChangePassword})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left loginBox__buttonGroup\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"loginBox__button btn-primary\",disabled:loading,children:[loading&&/*#__PURE__*/_jsx(\"span\",{className:\"spinner-border spinner-border-sm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"loginBox__buttonText\",children:\"Enter\"})]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(event){props.setType(\"Signup\");event.stopPropagation();},children:/*#__PURE__*/_jsx(\"h3\",{className:\"loginBox__bottomText\",children:\"Don't have an account yet?\"})}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(event){props.setType(\"Signup\");event.stopPropagation();},children:/*#__PURE__*/_jsx(\"h3\",{className:\"loginBox__bottomText1\",children:\"Sign Up\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginBox__bottomText1\",onClick:function onClick(event){props.setType(\"Forget\");event.stopPropagation();},children:\"Forgot your password?\"}),/*#__PURE__*/_jsx(CheckButton,{style:{display:\"none\"},ref:checkBtn})]})});};export default Login;","map":{"version":3,"names":["React","useState","useRef","useDispatch","useSelector","Link","Redirect","Form","Input","CheckButton","Swal","login","Login","props","form","checkBtn","username","setUsername","password","setPassword","loading","setLoading","state","auth","isLoggedIn","message","dispatch","onChangeUsername","e","target","value","onChangePassword","handleLogin","preventDefault","fire","title","text","icon","confirmButtonText","current","context","_errors","length","then","setTimeout","window","location","reload","catch","error","event","setType","stopPropagation","display"],"sources":["C:/Users/abrah/toxic/projects/supergo2/website/src/components/signin.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\n// import { ToastContainer, toast } from 'react-toastify';\r\n// import 'react-toastify/dist/ReactToastify.css';\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { login } from \"../actions/auth\";\r\n\r\nimport \"./form.css\";\r\n\r\nconst Login = (props) => {\r\n  const form = useRef();\r\n  const checkBtn = useRef();\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const { isLoggedIn } = useSelector((state) => state.auth);\r\n  const { message } = useSelector((state) => state.message);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeUsername = (e) => {\r\n    const username = e.target.value;\r\n    setUsername(username);\r\n  };\r\n\r\n  const onChangePassword = (e) => {\r\n    const password = e.target.value;\r\n    setPassword(password);\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (username === \"\") {\r\n      setLoading(false);\r\n      return Swal.fire({\r\n        title: \"Error!\",\r\n        text: \"Username Required\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"Ok\",\r\n      });\r\n    } else if (password == \"\") {\r\n      setLoading(false);\r\n      return Swal.fire({\r\n        title: \"Error!\",\r\n        text: \"Password Required\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"Ok\",\r\n      });\r\n    }\r\n\r\n    if (checkBtn.current.context._errors.length === 0) {\r\n      dispatch(login(username, password))\r\n        .then(() => {\r\n          // props.history.push(\"/profile\");\r\n          Swal.fire({\r\n            title: \"Success!\",\r\n            text: \"User logged in.\",\r\n            icon: \"success\",\r\n            confirmButtonText: \"Ok\",\r\n          });\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 2000);\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          return Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"Invalid Credentials\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Ok\",\r\n          });\r\n        });\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form onSubmit={handleLogin} ref={form} className=\"test\">\r\n        <div className=\"form-group text-left inputfield\">\r\n          <label htmlFor=\"username\" className=\"label\">\r\n            Username / E-Mail\r\n          </label>\r\n          <Input\r\n            type=\"text\"\r\n            className=\"input login-input\"\r\n            name=\"username\"\r\n            value={username}\r\n            onChange={onChangeUsername}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group text-left  inputfield\">\r\n          <label htmlFor=\"password\" className=\"label\">\r\n            Password\r\n          </label>\r\n          <Input\r\n            type=\"password\"\r\n            className=\"input login-input\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={onChangePassword}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form-group text-left loginBox__buttonGroup\">\r\n          <button className=\"loginBox__button btn-primary\" disabled={loading}>\r\n            {loading && (\r\n              <span className=\"spinner-border spinner-border-sm\"></span>\r\n            )}\r\n            <span className=\"loginBox__buttonText\">Enter</span>\r\n          </button>\r\n          <div\r\n            onClick={(event) => {\r\n              props.setType(\"Signup\");\r\n              event.stopPropagation();\r\n            }}\r\n          >\r\n            <h3 className=\"loginBox__bottomText\">Don't have an account yet?</h3>\r\n          </div>\r\n          <div\r\n            onClick={(event) => {\r\n              props.setType(\"Signup\");\r\n              event.stopPropagation();\r\n            }}\r\n          >\r\n            <h3 className=\"loginBox__bottomText1\">Sign Up</h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"loginBox__bottomText1\"\r\n          onClick={(event) => {\r\n            props.setType(\"Forget\");\r\n            event.stopPropagation();\r\n          }}\r\n        >\r\n          Forgot your password?\r\n        </div>\r\n\r\n        <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}