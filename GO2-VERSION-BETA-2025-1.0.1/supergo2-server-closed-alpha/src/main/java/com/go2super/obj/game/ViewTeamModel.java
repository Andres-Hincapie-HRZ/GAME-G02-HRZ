package com.go2super.obj.game;

import com.go2super.buffer.Go2Buffer;
import com.go2super.obj.BufferObject;
import com.go2super.obj.utility.VariableType;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.util.ArrayList;
import java.util.List;

@Data
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class ViewTeamModel extends BufferObject {

   private List<ShipTeamNum> model = new ArrayList<>(VariableType.MAX_SHIPTEAMBODY);

   @Override
   public void write(Go2Buffer go2buffer) {

      for (int i = 0; i < 9; i++) {

         go2buffer.pushByte((4 - go2buffer.getBuffer().position() % 4) % 4);

         if (model.size() > i) {

            ShipTeamNum num = model.get(i);

            go2buffer.addInt(num.getShipModelId());
            go2buffer.addInt(num.getBodyId());
            go2buffer.addInt(num.getNum());

         }

      }
   }

   @Override
   public ShipTeamBody trash() {
      return new ShipTeamBody();
   }

}
